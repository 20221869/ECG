////
//// Created by Lyt on 2024/12/25.
////
//
//#include "filter.h"
//
//static float32_t firStateF32_48[BLOCK_SIZE+NUM_TAPS-1];
//
//arm_fir_instance_f32 S;
//float32_t mid_cache[midfilt_num];
//
//uint32_t block_size = BLOCK_SIZE;
////const int BL = 49;
////const float32_t B[49] = {
////        -0.0009602747741,-0.0007406222285,-0.000344334956,0.0003267489665,  0.00132522604,
////        0.002570599085, 0.003790664719, 0.004526928533,  0.00422275858, 0.002387276152,
////        -0.001199811231,-0.006298475899, -0.01209692098, -0.01723066717, -0.01995631494,
////        -0.01846508868, -0.01128097717, 0.002341947285,  0.02211954445,   0.0466186665,
////        0.07336764783,  0.09919441491,   0.1207369491,   0.1350278109,   0.1400325894,
////        0.1350278109,   0.1207369491,  0.09919441491,  0.07336764783,   0.0466186665,
////        0.02211954445, 0.002341947285, -0.01128097717, -0.01846508868, -0.01995631494,
////        -0.01723066717, -0.01209692098,-0.006298475899,-0.001199811231, 0.002387276152,
////        0.00422275858, 0.004526928533, 0.003790664719, 0.002570599085,  0.00132522604,
////        0.0003267489665,-0.000344334956,-0.0007406222285,-0.0009602747741
////};
////const int BL = 41;
////const float32_t B[41] = {
////        0.0007999904337, 0.001218483085, 0.002077189507, 0.003260467667,  0.00481651444,
////        0.006783056539, 0.009182809852,   0.0120193772,  0.01527394913,  0.01890326664,
////        0.0228390079,  0.02698893659,  0.03123972379,  0.03546149284,  0.03951375559,
////        0.04325254261,  0.04653806239,   0.0492425859,  0.05125783756,  0.05250141397,
////        0.05292179063,  0.05250141397,  0.05125783756,   0.0492425859,  0.04653806239,
////        0.04325254261,  0.03951375559,  0.03546149284,  0.03123972379,  0.02698893659,
////        0.0228390079,  0.01890326664,  0.01527394913,   0.0120193772, 0.009182809852,
////        0.006783056539,  0.00481651444, 0.003260467667, 0.002077189507, 0.001218483085,
////        0.0007999904337
////};
////const float32_t B[51] = {
////        0.0001337976719,0.0002555926621,0.0004851639678,0.0008332420257, 0.001333296881,
////        0.002020778833, 0.002931280294, 0.004098312929, 0.005550794769, 0.007310417481,
////        0.009389051236,  0.01178640034,  0.01448810101,  0.01746445708,  0.02066997439,
////        0.02404379845,  0.02751112357,  0.03098554537,  0.03437229618,  0.03757220134,
////        0.04048611969,  0.04301966727,  0.04508787766,  0.04661952332,  0.04756085202,
////        0.04787841439,  0.04756085202,  0.04661952332,  0.04508787766,  0.04301966727,
////        0.04048611969,  0.03757220134,  0.03437229618,  0.03098554537,  0.02751112357,
////        0.02404379845,  0.02066997439,  0.01746445708,  0.01448810101,  0.01178640034,
////        0.009389051236, 0.007310417481, 0.005550794769, 0.004098312929, 0.002931280294,
////        0.002020778833, 0.001333296881,0.0008332420257,0.0004851639678,0.0002555926621,
////        0.0001337976719
////};
//const float32_t B[161] = {
//        1.403235114298e-07, 2.98570963372e-07,6.050751424229e-07,9.177940985748e-07,
//        8.675583010059e-07,-4.094585240038e-21,-1.971445958789e-06,-4.879404800711e-06,
//        -7.903235973363e-06,-9.588127068884e-06,-8.176628628949e-06,-2.252824364835e-06,
//        8.436059789068e-06,2.225284821758e-05,3.539122228701e-05,  4.2363112989e-05,
//        3.739111360347e-05,1.653412212996e-05,-1.998830563917e-05,-6.609598399282e-05,
//        -0.0001096685090625,-0.0001345347344493,-0.0001246980142946,-7.005703377068e-05,
//        2.791980491514e-05,0.0001526062160597,0.0002726729001758,0.0003477331578028,
//        0.0003388672233851,0.0002219326050484,-5.163078310347e-19,-0.0002894977089285,
//        -0.0005767745347496,-0.0007727394493273,-0.0007918245862795,-0.0005798072140115,
//        -0.0001389990298726, 0.000457875975196, 0.001072293544561,  0.00152605430649,
//        0.001645872480917, 0.001316903873029,0.0005307786417043,-0.0005877631273658,
//        -0.001788385200407,-0.002741841916044,-0.003120025970856, -0.00269233795728,
//        -0.001413063989868, 0.000527814654324, 0.002712419387951, 0.004570330159375,
//        0.00551235665236, 0.005094950580209, 0.003173677517993,-3.520883559718e-18,
//        -0.003776129847037,-0.007215094374329,-0.009296663046721,-0.009188308046561,
//        -0.006508804698439,-0.001514252834276,  0.00485667350593,   0.0111133148794,
//        0.01551309485365,  0.01647936414453,  0.01304757940014, 0.005231037935768,
//        -0.005796456476335,   -0.017770827752, -0.02767690219622, -0.03230932610488,
//        -0.02895027801784, -0.01602149510343, 0.006438438585096,  0.03659243935456,
//        0.07098149485989,   0.1050457921957,   0.1338997001412,   0.1532101583283,
//        0.1600001355287,   0.1532101583283,   0.1338997001412,   0.1050457921957,
//        0.07098149485989,  0.03659243935456, 0.006438438585096, -0.01602149510343,
//        -0.02895027801784, -0.03230932610488, -0.02767690219622,   -0.017770827752,
//        -0.005796456476335, 0.005231037935768,  0.01304757940014,  0.01647936414453,
//        0.01551309485365,   0.0111133148794,  0.00485667350593,-0.001514252834276,
//        -0.006508804698439,-0.009188308046561,-0.009296663046721,-0.007215094374329,
//        -0.003776129847037,-3.520883559718e-18, 0.003173677517993, 0.005094950580209,
//        0.00551235665236, 0.004570330159375, 0.002712419387951, 0.000527814654324,
//        -0.001413063989868, -0.00269233795728,-0.003120025970856,-0.002741841916044,
//        -0.001788385200407,-0.0005877631273658,0.0005307786417043, 0.001316903873029,
//        0.001645872480917,  0.00152605430649, 0.001072293544561, 0.000457875975196,
//        -0.0001389990298726,-0.0005798072140115,-0.0007918245862795,-0.0007727394493273,
//        -0.0005767745347496,-0.0002894977089285,-5.163078310347e-19,0.0002219326050484,
//        0.0003388672233851,0.0003477331578028,0.0002726729001758,0.0001526062160597,
//        2.791980491514e-05,-7.005703377068e-05,-0.0001246980142946,-0.0001345347344493,
//        -0.0001096685090625,-6.609598399282e-05,-1.998830563917e-05,1.653412212996e-05,
//        3.739111360347e-05,  4.2363112989e-05,3.539122228701e-05,2.225284821758e-05,
//        8.436059789068e-06,-2.252824364835e-06,-8.176628628949e-06,-9.588127068885e-06,
//        -7.903235973363e-06,-4.879404800711e-06,-1.971445958789e-06,-4.094585240039e-21,
//        8.67558301006e-07,9.177940985749e-07,6.050751424229e-07, 2.98570963372e-07,
//        1.403235114298e-07
//};
//void arm_fir_f32_lp_48(float32_t *Input_buffer,float32_t *Output_buffer)
//{
//    float32_t *inputF32,*outputF32;
//
//    inputF32 = Input_buffer;
//    outputF32 = Output_buffer;
//
//    arm_fir_f32(&S,inputF32,outputF32,block_size);
//}
//
//void arm_fir48_init(void)
//{
//    arm_fir_init_f32(&S,NUM_TAPS,(float32_t *)&B[0],&firStateF32_48[0],block_size);
//}
//
//
//
//float32_t midfilt1(float32_t *p_input,int size,int blocksize)
//{
//    int i;
//    float32_t *input;                           //????
//    float32_t mid_val;                                        //???
//
//    input = p_input;
//
//    for(i=0;i<size-blocksize+1;i++)
//    {
//        arm_copy_f32(input+i,mid_cache,blocksize);          //????????????????
//
//        //mid_val = find_mid_val(mid_cache,blocksize);          //?????
//        maxim_sort_ascend(mid_cache,size);
//
//        mid_val = mid_cache[(size+1)/2];                  //??????????
//
//        //*(input+(2*i+1+blocksize)/2) = mid_val;             //??????????????
//    }
//    return mid_val;
//}
//
//void maxim_sort_ascend(float32_t *pn_x,int32_t n_size)
///**
//* \brief        Sort array
//* \par          Details
//*               Sort array in ascending order (insertion sort algorithm)
//*
//* \retval       None
//*/
//{
//    int32_t i, j;
//    float32_t n_temp;
//    for (i = 1; i < n_size; i++) {
//        n_temp = pn_x[i];
//        for (j = i; j > 0 && n_temp < pn_x[j-1]; j--)
//            pn_x[j] = pn_x[j-1];
//        pn_x[j] = n_temp;
//    }
//}
